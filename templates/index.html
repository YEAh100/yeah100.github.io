<!DOCTYPE html>
<html>
<head>
    <title>Web Scraper</title>
</head>
<body>
    <form action="/" method="POST">
        <input type="text" name="url" placeholder="Enter URL" required>
        <input type="checkbox" name="auto_save" value="true"> Auto Save<br>
        <textarea name="target_text" placeholder="Enter target text"></textarea>
        <input type="submit" value="Scrape">
    </form>
    <button onclick="fetchPreview()">Show Preview</button>
    <form action="/preview" method="POST">
        <textarea id="preview" name="edited_text" rows="10" cols="30" placeholder="Preview will be shown here..."></textarea>
        <input type="submit" value="Update">
    </form>
    <button onclick="window.location.href='/download'">Download</button>
    <script>
        function fetchPreview() {
            fetch('/preview')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('preview').value = data;
                });
        }
    </script>
</body>
</html>